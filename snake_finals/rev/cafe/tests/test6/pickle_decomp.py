import dill
import dis

c1 = dill._dill._create_code(
	b'\x02\x02\x01',
	3,
	0,
	0,
	3,
	3,
	3,
	b'\x95\x00U\x02R\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00S\x015\x01\x00\x00\x00\x00\x00\x00U\x00l\x01\x00\x00\x00\x00\x00\x00\x00\x00g\x00',
	(None, 'latin'),
	('encode', 'agent'),
	('self', 'host', 'agent'),
	'/app/server.py',
	'__init__',
	'EnsuringRichCafè.__init__',
	14,
	b"\x80\x00\xd8\x15\x1a\x97\\\x91\\\xa0'\xd3\x15*\x88\x04\x8d\n",
	b'',
	tuple(),
	tuple(),
	)

# print(c)
# print(dir(c))

# dis.dis(c)

c2 = dill._dill._create_code(
	b'\x02\x01\x08\x01T\x01z\x02',
	2,
	0,
	0,
	4,
	5,
	3,
	b'\x95\x00S\x01S\x00K\x00n\x02U\x00R\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00[\x04\x00\x00\x00\x00\x00\x00\x00\x00R\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00S\x025\x01\x00\x00\x00\x00\x00\x00-\x00\x00\x00U\x01-\x00\x00\x00U\x00l\x04\x00\x00\x00\x00\x00\x00\x00\x00[\n\x00\x00\x00\x00\x00\x00\x00\x00R\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00U\x02R\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00U\x00R\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x005\x01\x00\x00\x00\x00\x00\x00R\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x005\x00\x00\x00\x00\x00\x00\x00S\x035\x02\x00\x00\x00\x00\x00\x00n\x03U\x03S\x04S\x05-\x08\x00\x00:\x02\x00\x00$\x00',
	(None, 0, 'eb000b', 'little', 2, 160),
	('hashlib', 'agent', 'bytes', 'fromhex', 'magic', 'int', 'from_bytes', 'sha256', 'digest'),
	('self', 'nonce', 'hashlib', 'n'),
	'/app/server.py',
	'__check__',
	'EnsuringRichCafè.__check__',
	17,
	b'\x80\x00\xdb\x08\x16\xd8\x15\x19\x97Z\x91Z\xa4%\xa7-\xa1-\xb0\x08\xd3"9\xd1\x159\xb8E\xd1\x15A\x88\x04\x8c\n\xdc\r\x10\x8f^\x89^\x98G\x9fN\x99N\xa84\xaf:\xa9:\xd3\x1c6\xd7\x1c=\xd1\x1c=\xd3\x1c?\xc0\x18\xd3\rJ\x88\x01\xe0\x0f\x10\x901\x98\x03\x918\x89|\xd0\x08\x1b',
	b'',
	tuple(),
	tuple(),
	)

# c2 = dill._dill._create_code(b'\x02\x01\x08\x01T\x01z\x02', 2, 0, 0, 4, 5, 3, b'\x95\x00S\x01S\x00K\x00n\x02U\x00R\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00[\x04\x00\x00\x00\x00\x00\x00\x00\x00R\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00S\x025\x01\x00\x00\x00\x00\x00\x00-\x00\x00\x00U\x01-\x00\x00\x00U\x00l\x04\x00\x00\x00\x00\x00\x00\x00\x00[\n\x00\x00\x00\x00\x00\x00\x00\x00R\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00U\x02R\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00U\x00R\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x005\x01\x00\x00\x00\x00\x00\x00R\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x005\x00\x00\x00\x00\x00\x00\x00S\x035\x02\x00\x00\x00\x00\x00\x00n\x03U\x03S\x04S\x05-\x08\x00\x00:\x02\x00\x00$\x00', (None, 0, 'eb000b', 'little', 2, 160), ('hashlib', 'agent', 'bytes', 'fromhex', 'magic', 'int', 'from_bytes', 'sha256', 'digest'), ('self', 'nonce', 'hashlib', 'n'), '/app/server.py', '__check__', 'EnsuringRichCaf\xe8.__check__', 17, b'\x80\x00\xdb\x08\x16\xd8\x15\x19\x97Z\x91Z\xa4%\xa7-\xa1-\xb0\x08\xd3"9\xd1\x159\xb8E\xd1\x15A\x88\x04\x8c\n\xdc\r\x10\x8f^\x89^\x98G\x9fN\x99N\xa84\xaf:\xa9:\xd3\x1c6\xd7\x1c=\xd1\x1c=\xd3\x1c?\xc0\x18\xd3\rJ\x88\x01\xe0\x0f\x10\x901\x98\x03\x918\x89|\xd0\x08\x1b', b'', (), ())
f2 = dill._dill._create_function(
	c2,
	{'__name__': '__main__'},
	'__check__',
	None,
	None,
)

# print(f2)
# print(dir(f2))

# print(f2())

with open('server_init.py', 'w') as f:
	dis.dis(c1, file=f)

# print('=' * 80)

with open('server_check.py', 'w') as f:
	dis.dis(c2, file=f)
